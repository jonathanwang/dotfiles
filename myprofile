#!/bin/bash

# Include guard
if [ -z "$DOTFILES" ]; then
    export DOTFILES=yes
else
    return 0
fi

# Operating system specific settings
if [[ "$OSTYPE" == "linux-gnu" ]]; then
	# Linux
    :

elif [[ "$OSTYPE" == "darwin"* ]]; then
    # Mac OS X

	# Highlight items
	export CLICOLOR=1
	export LSCOLORS=ExGxBxDxCxEgEdxbxgxcxd
	#export LSCOLORS=GxFxCxDxBxegedabagaced

else
    echo "Unrecognized operating system"
fi

# git prompt
# https://github.com/magicmonty/bash-git-prompt
PS1='\u: \W$ '
GIT_PROMPT_ONLY_IN_REPO=1
source ~/dotfiles/bash-git-prompt/gitprompt.sh

# deprecated git prompt
#source ~/.git-prompt.sh
#PS1='\u: \W$(__git_ps1 " (%s)")\$ '

# Git listing of branches by date
alias glist='for ref in $(git for-each-ref --sort=-committerdate --format="%(refname)" refs/heads/ refs/remotes ); do git log -n1 $ref --pretty=format:"%Cgreen%cr%Creset %C(yellow)%d%Creset %C(bold blue)<%an>%Creset%n" | cat ; done | awk '"'! a["'$0'"]++'"

# Disable Ctrl-D to logout of a shell session
set -o ignoreeof

